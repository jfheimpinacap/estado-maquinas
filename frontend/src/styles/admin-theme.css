/* ================================
   Django Admin look & feel (compact)
   ================================ */

/* --- Variables --- */
:root{
  --bg:#0f141a;
  --text:#e6eaef;
  --muted:#94a3b8;

  --topbar-bg:#2a2f3a;
  --topbar-text:#eaf3f9;
  --topbar-h:46px;

  --sidebar-bg:#293241;
  --sidebar-sec:#3d5a80;
  --sidebar-hover:#98c1d9;
  --sidebar-w:240px;

  --card-bg:#111827;
  --card-border:#1f2937;

  --input-bg:#0b1117;
  --input-border:#39424e;
  --focus-ring:#f1842d66;

  --accent:#C94217;         /* tu color corporativo */
  --accent-contrast:#ffffff;
  --accent-hover:#e75425;

  --link:#9cc6ff;
  --link-hover:#cfe3ff;

  --radius:8px;
  --radius-sm:6px;

  --fx-1:0 1px 2px rgba(0,0,0,.25);
  --fx-2:0 4px 12px rgba(0,0,0,.20);
}

/* Modo claro */
html.theme-light{
  --bg:#f6f7f9;
  --text:#111;
  --muted:#6b7280;

  --card-bg:#ffffff;
  --card-border:#e5e7eb;

  --input-bg:#ffffff;
  --input-border:#d1d5db;

  --link:#2563eb;
  --link-hover:#1e40af;
}

/* --- Reset base --- */
*{ box-sizing:border-box }
html,body,#root{ height:100%; margin:0 }
html{ font-size:13px } /* compacto estilo Django */
body{
  background:var(--bg);
  color:var(--text);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.35;
  overflow-x:hidden;
}

/* =================
   Topbar (full width)
   ================= */
.topbar{
  position:sticky;
  inset:0 0 auto 0;               /* stick al top */
  height:var(--topbar-h);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 .9rem;
  background:var(--topbar-bg);
  color:var(--topbar-text);
  border-bottom:1px solid rgba(0,0,0,.25);
  z-index:50;
  width:100%;
}
.topbar__brand{ font-weight:800; letter-spacing:.2px; font-size:1rem }
.topbar__links{ display:flex; gap:12px; align-items:center; font-size:.92rem }
.topbar__links a, .topbar__links button{
  color:var(--topbar-text); background:none; border:0; padding:0;
  font-weight:700; text-decoration:none; cursor:pointer;
}
.topbar__links a:hover, .topbar__links button:hover{ text-decoration:underline }
.topbar__iconbtn{
  border:1px solid rgba(255,255,255,.35);
  border-radius:10px; padding:.15rem .45rem; background:transparent; color:var(--topbar-text);
}

/* ===========================
   Layout: sidebar + contenido
   =========================== */
.admin-root{ min-height:100vh; display:flex; flex-direction:column }
.admin-body{
  display:grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  min-height: calc(100vh - var(--topbar-h));
  background:var(--bg);
}

/* Sidebar */
.dja-sidebar{
  background:var(--sidebar-bg);
  color:#fff;
  padding:.5rem;
  border-right:1px solid rgba(255,255,255,.06);
  z-index:60;
}
.dja-section{ margin-bottom:.65rem; border:1px solid rgba(255,255,255,.08); box-shadow:var(--fx-1) }
.dja-section__title{
  background:var(--sidebar-sec);
  padding:.45rem .6rem;
  font-weight:800; font-size:.82rem; text-transform:uppercase; letter-spacing:.4px;
}
.dja-section__body{ background:rgba(0,0,0,.15) }
.dja-row{
  display:grid; grid-template-columns:1fr auto;
  gap:.35rem; align-items:center; padding:.38rem .55rem;
}
.dja-row:hover{ background:var(--sidebar-hover) }
.dja-row__label{
  background:none; border:0; color:#fff; text-align:left; cursor:pointer;
  padding:0; font-weight:600; font-size:.92rem;
}
.dja-row__add{
  background:var(--accent); color:#fff; border:0; font-size:.78rem;
  padding:.15rem .45rem; border-radius:.4rem; cursor:pointer;
}
.dja-row__add:hover{ filter:brightness(1.05) }

/* Main */
.admin-main{
  background:var(--bg);
  padding:1rem 1.25rem 2rem;
  max-width:none;        /* usar todo el ancho (como Django) */
  margin:0;              /* sin centrar contenedor */
  color:var(--text);
}

/* Encabezado de página */
.page-header{ margin:0 0 .6rem }
.page-title{ margin:0 0 .15rem; font-size:1.15rem; font-weight:800 }
.breadcrumbs{ font-size:.88rem; color:var(--muted) }
.breadcrumbs a{ color:var(--link); text-decoration:none }
.breadcrumbs a:hover{ color:var(--link-hover); text-decoration:underline }

/* =====================
   Cards, forms y tablas
   ===================== */
.admin-card{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:var(--radius);
  box-shadow:var(--fx-1);
}
.fieldset{ border-top:1px solid var(--card-border); padding:.8rem }
.fieldset:first-child{ border-top:none; border-top-left-radius:var(--radius); border-top-right-radius:var(--radius) }
.fieldset:last-child{ border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius) }
.legend{ font-weight:800; margin-bottom:.55rem; font-size:.95rem }

/* Form compact */
.form-row{
  display:grid; grid-template-columns:12rem 1fr;
  gap:.75rem; align-items:start; padding:.45rem 0;
}
.form-row .label{ font-weight:700; padding-top:.45rem }
.form-row .control{ display:grid; gap:.3rem }
.help-text{ font-size:.83rem; color:var(--muted) }

.input,.select,.textarea{
  width:100%;
  background:var(--input-bg);
  color:var(--text);
  border:1px solid var(--input-border);
  border-radius:var(--radius-sm);
  padding:.5rem .6rem;
  font-size:.95rem;
}
.input:focus,.select:focus,.textarea:focus{
  outline:none; box-shadow:0 0 0 3px var(--focus-ring); border-color:var(--accent);
}

/* Botones */
.btn{
  appearance:none; border:1px solid transparent;
  border-radius:var(--radius-sm);
  padding:.42rem .7rem; font-weight:800; cursor:pointer; font-size:.95rem;
}
.btn-primary{ background:var(--accent); color:var(--accent-contrast) }
.btn-primary:hover{ background:var(--accent-hover) }
.btn-ghost{ background:transparent; color:var(--text); border-color:var(--card-border) }
.btn-ghost:hover{ background:rgba(255,255,255,.04) }

/* Tabla compacta estilo Django */
.admin-table, .dja-table{
  width:100%;
  border-collapse:collapse;
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:var(--radius);
  overflow:hidden; box-shadow:var(--fx-1);
}
.admin-table th, .dja-table th{
  background:var(--accent);
  color:#fff; text-align:left;
  font-weight:800; font-size:.9rem;
  padding:.5rem .65rem;
  white-space:nowrap;
}
.admin-table td, .dja-table td{
  padding:.5rem .65rem;
  border-top:1px solid var(--card-border);
  font-size:.95rem;
}

/* =========================
   Panel de filtro a la derecha
   ========================= */
.main-grid{
  display:grid;
  grid-template-columns: 1fr 300px;  /* área resultados + 300px filtro */
  gap:1rem;
  align-items:start;
}
.admin-filter{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:var(--radius);
  box-shadow:var(--fx-1);
  overflow:hidden;
}
.admin-filter__title{
  background:var(--sidebar-sec);
  color:#fff;
  font-weight:800;
  font-size:.9rem;
  padding:.5rem .65rem;
}
.admin-filter > div{ padding:.6rem .7rem .8rem }
.admin-filter details{ margin-top:.25rem; background:transparent; color:var(--text) }
.admin-filter summary{
  list-style:none; cursor:pointer; font-weight:800; margin:.2rem 0 .3rem;
}
.admin-filter summary::marker{ display:none }
.admin-filter ul{ list-style:disc; padding-left:1.2rem; margin:.4rem 0 0 }
.admin-filter li{ margin:.3rem 0 }
.admin-filter button{
  appearance:none; background:transparent; border:0; padding:0;
  color:var(--link); cursor:pointer; font:inherit;
}
.admin-filter button:hover{ color:var(--link-hover); text-decoration:underline }

/* =================
   Login centrado
   ================= */
.login-shell{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background:var(--bg);
  z-index:1;
}
.login-card{
  width:100%; max-width:420px;
  padding:1rem 1.1rem 1.25rem;
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:var(--radius);
  box-shadow:var(--fx-2);
  margin:1.2rem;
}
.login-title{ margin:.2rem 0 .2rem; font-weight:900; font-size:1.28rem; text-align:center }
.login-sub{ margin:0 0 .6rem; text-align:center; color:var(--muted); font-size:.95rem }
.login-links{ margin-top:.7rem; text-align:center }
.link-like{ background:none; border:0; color:var(--link); cursor:pointer; padding:0; font-weight:800 }
.link-like:hover{ color:var(--link-hover); text-decoration:underline }

/* Ojito dentro del input */
.pwd-wrap{ position:relative }
.pwd-toggle{
  position:absolute; right:.55rem; top:50%; transform:translateY(-50%);
  width:28px; height:28px; display:grid; place-items:center;
  border:1px solid var(--card-border); border-radius:50%;
  background:transparent; color:var(--muted); cursor:pointer;
}
.pwd-toggle:hover{ color:#fff; background:rgba(255,255,255,.06) }

/* ===========
   Responsive
   =========== */
@media (max-width: 1200px){
  :root{ --sidebar-w:210px; }
}
@media (max-width: 992px){
  :root{ --sidebar-w:0px; }
  .admin-body{ grid-template-columns: 0 1fr; }

  /* Sidebar deslizable */
  .dja-sidebar{
    position: fixed; inset: var(--topbar-h) auto 0 0;
    width: 260px; transform: translateX(-100%);
    transition: transform .2s ease;
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
    background: var(--sidebar-bg);
  }
  .sidebar-open .dja-sidebar{ transform: translateX(0); }

  /* Filtro bajo la tabla */
  .main-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 768px){
  .dja-table{ display:block; overflow-x:auto; }
  .dja-table th, .dja-table td{ white-space:nowrap; }
  .form-row{ grid-template-columns:1fr; }
  .form-row .label{ padding-top:0; }
}
@media (max-width: 480px){
  .login-card{ padding:.9rem; }
}

/* === Full-bleed robusto (topbar y contenido) === */
/* El topbar no se renderiza en /login, así que el bleed no afecta al login */
.topbar{
  position: sticky;
  top: 0;
  height: var(--topbar-h);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 .9rem;
  background: var(--topbar-bg);
  color: var(--topbar-text);
  border-bottom: 1px solid rgba(0,0,0,.25);
  z-index: 50;

  /* Bleed hasta el borde de la ventana si algún wrapper centra el contenido */
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}

/* Asegura que el layout use TODO el ancho disponible */
.admin-root, .admin-body, .admin-main{
  width: 100%;
  max-width: 100%;
}

/* Neutraliza cualquier "container" que limite ancho accidentalmente */
.container-wide,
.container-narrow,
[class*="container"]{
  max-width: none !important;
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* El área de trabajo ocupa todo hasta el filtro (como Django) */
.admin-main{
  background: var(--bg);
  padding: 1rem 1.25rem 2rem;
  margin: 0;
}

/* Grid resultados + filtro fijo tipo Django */
.main-grid{
  display: grid;
  grid-template-columns: 1fr 300px; /* 300px filtro */
  gap: 1rem;
  align-items: start;
}
@media (max-width: 992px){
  .main-grid{ grid-template-columns: 1fr; }
}

/* Login: centrado absoluto (por si algún estilo global lo empuja) */
.login-shell{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  background: var(--bg);
  z-index: 1;
}
.login-card{ margin: 1.2rem; }
