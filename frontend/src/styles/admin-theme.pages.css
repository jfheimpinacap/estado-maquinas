/* ================================
   Pages: Crear OT + modales OT
   ================================ */

.ot-layout{
  display:grid;
  grid-template-columns:minmax(0, 3fr) minmax(260px, 1.4fr);
  gap:1rem;
  align-items:flex-start;
}

.ot-main{
  display:flex;
  flex-direction:column;
  gap:.75rem;
}

.ot-summary{
  position:sticky;
  top: calc(var(--topbar-h) + 0.8rem);
}

.ot-summary-card{ box-shadow: var(--fx-2) }

.ot-summary-item{
  margin-bottom:.5rem;
  padding-bottom:.4rem;
  border-bottom:1px solid var(--card-border);
}
.ot-summary-title{ font-size:.9rem; margin-bottom:.2rem; font-weight:500 }
.ot-summary-line{
  display:flex;
  justify-content:space-between;
  font-size:.88rem;
}
.ot-summary-total-line{ font-weight:600 }
.ot-summary-sep{ margin:.6rem 0; border:0; border-top:1px solid var(--card-border) }

.ot-series-control{ display:flex; gap:.4rem; align-items:center; }
.input--serie{ max-width:190px; }
.ot-btn-buscar-serie,
.ot-btn-eliminar,
.ot-btn-add{
  max-width:190px;
  width:100%;
}

.ot-periodo-row{
  display:flex;
  gap:.4rem;
  flex-wrap:wrap;
  align-items:center;
  max-width:360px;
}
.ot-cantidad-input{ max-width:120px; }

.ot-fechas-row{
  display:flex;
  align-items:center;
  gap:.4rem;
  flex-wrap:wrap;
}
.ot-fechas-sep{ color:var(--muted); font-size:0.9rem }

.ot-valor-input{ max-width:150px; }

.ot-item-actions{
  display:flex;
  justify-content:flex-end;
  margin-top:.4rem;
}

.ot-add-row{ display:flex; justify-content:flex-start; }

/* Modal selección de máquina (Crear OT) */
.ot-modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:200;
}

.ot-modal{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:var(--radius);
  padding:1rem 1.2rem 1rem;
  max-width:960px;
  width:96%;
  max-height:80vh;
  box-shadow:var(--fx-2);
  overflow:auto;
}

.ot-modal-header{ margin-bottom:.6rem; }

.ot-modal-title{
  font-family:var(--title-font);
  font-weight:400;
  font-size:1rem;
}

.ot-modal-columns{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:.75rem;
}

@media(max-width:900px){
  .ot-modal-columns{ grid-template-columns:1fr; }
}

.ot-modal-column-title{
  font-weight:400;
  margin-bottom:.3rem;
  font-family:var(--title-font);
}

.ot-machine-list{ display:flex; flex-direction:column; gap:.3rem; }
.ot-machine-empty{ font-size:.85rem; color:var(--muted); }

.ot-machine-item{
  width:100%;
  text-align:left;
  border:1px solid var(--card-border);
  border-radius:var(--radius-sm);
  padding:.4rem .55rem;
  background:rgba(255,255,255,.02);
  cursor:pointer;
  font-size:.88rem;
  color:#e5e7eb;
}
.ot-machine-item:hover{ border-color:var(--accent); }

.ot-machine-item--selected{
  border-color:var(--accent);
  background:var(--accent);
  color:#fff;
}

.ot-machine-title{ font-weight:400; color:#f9fafb; }
.ot-machine-meta{ font-size:.8rem; opacity:.9; color:#cbd5f5; margin-top:2px; }

.ot-modal-footer{
  margin-top:.9rem;
  display:flex;
  justify-content:flex-end;
  gap:.5rem;
}

/* Responsive OT */
@media (max-width:1024px){
  .ot-layout{ grid-template-columns:1fr; }
  .ot-summary{ position:static; order:-1; }
}

/* ===== Estado arriendo máquinas: sticky last column (Acción) ===== */
.ea-scroll {
  overflow-x: auto;
  overflow-y: hidden;
  border-radius: 12px;
}

/* tu tabla ya es ancha; mantenemos eso */
.ea-table {
  min-width: 2200px;
  border-collapse: separate;
  border-spacing: 0;
}

/* evita saltos raros de alto por textos */
.ea-table th,
.ea-table td {
  white-space: nowrap;
  vertical-align: middle;
}

/* header naranja parejo */
.ea-table thead th {
  background: var(--brand, #c94217);
  color: #fff;
}

/* sticky columna acción */
.ea-sticky-col {
  position: sticky;
  right: 0;
  z-index: 2;
  background: var(--bg-elevated, rgba(15, 23, 42, 0.98));
}

/* el sticky del thead debe quedar por encima */
.ea-table thead .ea-sticky-col {
  z-index: 5;
  background: var(--brand, #c94217);
}

/* sombra bonita al “corte” */
.ea-table tbody .ea-sticky-col {
  box-shadow: -14px 0 18px -14px rgba(0, 0, 0, 0.85);
  border-left: 1px solid rgba(148, 163, 184, 0.18);
}

/* botones alineados */
.ea-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  align-items: center;
}

/* bordes redondeados (opcional, si te gusta así) */
.ea-table thead th:first-child { border-top-left-radius: 12px; }
.ea-table thead th:last-child  { border-top-right-radius: 12px; }
.ea-table tbody tr:last-child td:first-child { border-bottom-left-radius: 12px; }
.ea-table tbody tr:last-child td:last-child  { border-bottom-right-radius: 12px; }
